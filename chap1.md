# 1. UNIX 시스템의 개요

## UNIX 아키텍처

운영체제: 컴퓨터의 하드웨어 자원들을 제어하고 프로그램이 실행될 환경을 제공하는 소프트웨어이고 이런걸 커널이라고 부른다. </br>
커널이라고 하는 이유는 그런 소프트웨어가 비교적 작으며 운영 환경의 핵심부를 차지하고 있기 때문이다.

커널에 대한 인터페이스는 시스템 호출이라고 부르는 하나의 소프트웨어 계층이다. </br>
공통적으로 쓰이는 함수들을 모은 라이브러리들은 이 시스템 호출 인터페이스를 기초로 해서 만들어지는데, 응용 프로그램이 시스템 호출을 사용하는 것도 가능하다. </br>
셸은 다른 응용 프로그램을 실행하기 위한 하나의 인터페이스를 제공하는 특별한 응용 프로그램이다.

좀 더 넓은 의미에서는, 커널뿐만 아니라 컴퓨터를 유용하게 만들고 컴퓨터에 개성을 부여하는 다른 모든 소프트웨어까지 포괄한 것을 운영체제라고 한다. </br>
여기서 다른 소프트웨어는 시스템 유틸리티, 응용 프로그램, 셸, 공통 함수들의 라이브러리 등이 포함됨.

## 로그인

### 로그인 이름

사용자가 UNIX 시스템에 로그인할 때에는 로그인 이름과 패스워드를 입력한다. </br>
시스템은 패스워드 파일(보통은 /etc/passwd 파일)에 그 로그인 이름이 있는지 살펴본다. </br>
패스워드 파일의 한 줄은 콜론(:)으로 구분된 일곱 개의 필드들로 구성되는데, 일곱 필드들은 차례로 로그인 이름, 암호화된 패스워드, 사용자 ID, 그룹 ID, 주석 필드, 홈 디렉토리(/home/sar), 셸 프로그램(/bin/ksh)이다.

sar:x:205:105:Stephen Rago:/home/sar:/bin/ksh

현대적인 운영체제들은 모두 암호화된 패스워드 부분을 다른 어떤 파일에 따로 보관함.

### 셸

로그인이 성공적으로 이루어지면 일반적으로 약간의 시스템 정보 메시지가 나타나고, 셸 프로그램에 명령을 입력할 수 있게 된다. </br>
셸은 사용자의 입력을 읽고 명령들을 수행하는 명령줄 해석기이다. 셸에 주어지는 사용자 입력은 대게 사람이 터미널에서 입력한 것이지만 경우에 따라서는 셸 스크립트라고 부르는 파일에서 읽을 것일수도 있다.

UNIX 시스템에서 흔히 쓰이는 셸

| 이름 | 경로 | FreeBSD 5.2.1 | Linux 2.4.22 | Mac OS X 10.3 | Solaris 9 |
| :--: | :--: | :--: | :--: | :--: | :--: |
| Bourne 셸 | /bin/sh | | bash로 링크됨 | bash로 링크됨 | |
| Bourne-again 셸 | /bin/bash | 선택적 tcsh로 링크됨 | | | 
| C 셸 | /bin/csh | 선택적 tcsh로 링크됨 | tcsh로 링크됨 | tcsh로 링크됨 | |
| Korn 셸 | /bin/ksh | 선택적 tcsh로 링크됨 | tcsh로 링크됨 | tcsh로 링크됨 | |
| TENEX C 셸 | /bin/tcsh | | | | |

시스템은 패스워드 파일의 해당 사용자 항목의 마지막 필드를 보고 어떤 셸을 실행할 것인지 결정한다. 

## 파일과 디렉토리

### 파일 시스템

UNIX 파일 시스템은 디렉토리들과 파일들을 계통적으로 배치한 것. </br>
UNIX 파일 시스템의 모든 항목은 이름이 /인 디렉토리에서 시작한다. 이 디렉토리를 root 디렉토리라고 부른다.

디렉토리는 디렉토리 항목들을 담은 하나의 파일이다. </br>
디렉토리의 각 항목은 해당 파일의 이름과 그 파일의 특성들을 서술하는 정보를 담은 구조체로 구성된다. </br>
파일의 특성들은 파일의 종류, 파일의 크기, 파일의 소유자, 파일에 대한 권한, 파일이 마지막으로 수정된 일시 등이 있다. </br>
stat 함수와 fstat 함수는 파일의 모든 특성을 담은 정보 구조체를 돌려준다.

### 파일 이름

디렉토리 안의 이름들을 파일 이름이라 한다. </br>
파일 이름에 사용하지 못하는 문자는 슬래시(/)와 널(null)이다. 인쇄 가능한 문자들만 파일 이름에 사용하는 것이 바람직하다. </br> 
슬래시는 경로 이름을 구성하는 파일 이름들을 구분하는 용도로 쓰이고, 널 문자는 경로 이름의 끝을 표시하는 용도로 쓰인다. </br>

새 디렉토리가 생성될 때 두개의 파일 이름이 자동으로 만들어진다. 도트(.)는 현재 디렉토리, 도트-도트(..)는 부모-디렉토리를 지칭함. </br>
오늘날 쓰이는 UNIX 파일 시스템은 255자 길이의 파일 이름을 지원함.

### 경로 이름

여러 개의 파일 이름들을 슬래시로 연결한 것을 경로 이름이라 한다. </br>
경로 이름의 첫 글자가 슬래시일 수도 있는데, 그런 경로 이름을 절대 경로 이름이라고 한다. </br>
첫 글자가 슬래시가 아닌 경로 이름은 상대 경로 이름이다. 상대 경로 이름은 현재 디렉토리에 상대적인 파일을 지칭하는 데 쓰인다. </br>
파일 시스템의 루트에 대한 경로 이름, 즉 /은 파일 이름이 없는 특별한 형태의 절대 경로 이름이다.

